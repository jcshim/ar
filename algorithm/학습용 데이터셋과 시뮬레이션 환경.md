PCB 자동 배선용 강화학습을 연구하기 위해서는 적절한 
# **학습용 데이터셋**과 
# **시뮬레이션 환경**이 필수입니다. 
### 최근에는 미국 아이오와주립대학교(ISU)를 중심으로 공개된 **JSON 기반의 대규모 PCB 배선 데이터셋**과, 이를 연동한 **강화학습 시뮬레이터 환경**이 주목받고 있습니다. 이들은 실험 재현성과 확장성 모두를 만족하며, KiCAD 등 상용 툴과도 쉽게 연동할 수 있도록 설계되었습니다.

---

## 📁 1. 공개된 PCB JSON 데이터셋 (ISU 팀 제공)

### ✅ 주요 특징

- 실제 상용/산업 설계를 바탕으로 구축된 대규모 데이터셋
- **Netlist 정보 + Geometric 정보 (핀 위치, board 영역 등)** 포함
- JSON 포맷 → 구조적 처리 및 시각화가 용이

### ✅ 포함 정보

| 항목 | 설명 |
|------|------|
| `nets` | 연결되어야 하는 net들의 이름 및 구성 |
| `pins` | 각 핀의 (x, y, layer) 위치 |
| `components` | 부품별 종류, 크기, 좌표, 회전 |
| `board` | 보드 전체 치수 및 유효 영역 |
| `constraints` | 배선 제약 (최소 간격, 층별 우선순위 등)

### ✅ 장점

- PCB 설계의 **핵심 구조**만 포함하여 가볍고 빠름
- 다양한 난이도의 회로를 포함 (2~10층, 수십~수백 개 nets)
- RL 환경에 적합하도록 **정규화된 위치 정보** 제공
- KiCAD, Altium 등으로 **역변환 가능 (추가 스크립트 제공)**

---

## 🧪 2. RL 라우팅 시뮬레이터 (ISU 환경)

### ✅ 구성 요소

| 구성 | 설명 |
|------|------|
| `Env class` | 강화학습 환경, OpenAI Gym 스타일 |
| `Renderer` | PCB 상태 시각화 도구 (2D/3D 지원) |
| `DRC module` | 배선 충돌 검사, via 유효성 판단 |
| `Action handler` | 격자 이동, 층 이동, 종료 등 행동 정의 |
| `Reward engine` | 보상 계산 모듈 (길이, via, 충돌, Pre-routability 등 포함)

### ✅ 특장점

- **다층 배선 구조 지원 (multi-layer via handling)**  
- **핀쌍 분해 / net 스케줄링 기능 포함**
- DQN, PPO, MCTS 등 다양한 RL 알고리즘 플러그인 방식 연동 가능
- Python 기반으로 설계되어 사용자 정의 손쉬움

---

## 🔄 3. KiCAD 등 설계 툴과의 연동

### 방법 1: **DSN/SES 변환**

- JSON → Specctra DSN 변환 스크립트 제공
- RL이 최적화한 결과를 KiCAD에 **SES 파일로 재삽입**

### 방법 2: **KiCAD Python API 연동**

- JSON 상태를 실시간으로 KiCAD PCBnew에 반영
- 배선 상태 → KiCAD 스크립트로 시각화 / 저장

### 실제 예시:
- FanoutNet, DeepPCB, Quilter 등의 프로젝트가 JSON+DSN 기반으로 KiCAD 연동 수행
- 커스텀 보드 생성기 / 역변환기 제공으로 실험 자유도 큼

---

## 📊 실제 활용 방식

1. 학습용 보드 생성기 (Grid Size, Net 수 등 선택)
2. JSON 형식 저장 → 환경으로 로드
3. 강화학습 에이전트 학습 수행 (DQN/PPO 등)
4. 출력된 경로를 DSN/SES 혹은 KiCAD API로 시각화
5. FreeRouting, ELECTRA 등 기존 라우터와 비교 평가

---

## ✅ 장점 요약

| 항목 | 장점 |
|------|------|
| 데이터 | 경량, 구조화, 다양한 난이도, KiCAD 연동 가능 |
| 환경 | 학습-검증-시각화까지 통합 / 다양한 알고리즘 연동 지원 |
| 확장성 | 실제 보드 생성 → JSON 자동 변환 → 학습 가능 |
| 비교성 | FreeRouting 등과 직접 비교 가능 (벤치마크 확보) |

이러한 통합 구조 덕분에, 복잡한 산업용 회로 설계도 RL 기반으로 실험하고 시뮬레이션할 수 있는 기반이 마련되었습니다.
