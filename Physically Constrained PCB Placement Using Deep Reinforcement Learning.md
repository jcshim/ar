# [Physically Constrained PCB Placement Using Deep Reinforcement Learning](https://dspace.mit.edu/bitstream/handle/1721.1/139247/Crocker-pcrocker-meng-eecs-2021-thesis.pdf)

---

## 논문 제목
심층 강화학습을 이용한 물리적 제약 조건이 있는 PCB 부품 배치  
(Physically Constrained PCB Placement Using Deep Reinforcement Learning)

## 연구자
Peter Crocker (매사추세츠공과대학교, MIT, 2021)

## 논문의 목적과 특징
이 논문은 PCB(Printed Circuit Board)의 부품 배치 문제를 심층 강화학습(RL)을 이용하여 해결하는 방법에 대해 깊이 있게 다룹니다. 기존의 연구들이 휴리스틱(heuristic) 방식으로 배치의 품질을 평가한 반면, 본 논문에서는 실제로 제조 가능한 물리적으로 검증된 배치(즉, 라우팅 가능한 배치)에 초점을 맞추고 있습니다. 또한 현실적인 PCB 자동 배치의 사용 사례를 고려하여, 사용자가 사전에 일부 핵심 부품을 배치하고 나머지 부품을 자동으로 배치하는 시나리오를 다룹니다.

## 연구 방법
본 연구에서는 "링(ring) 배치"라는 제한된 도메인 내에서 연구를 수행했습니다. 링 배치란, 각 부품이 인접한 두 부품과만 연결되는 네트워크 구조를 의미하며, 이를 통해 복잡한 라우팅 문제를 간소화하여 계산 가능한 수준으로 만듭니다.

### 주요 단계 및 특징:
- **에피소드 기반의 RL**: 마르코프 결정 프로세스(MDP)로 부품 배치 과정을 모델링하여 상태, 행동 및 보상 시스템을 설계하였습니다.
- **PPO(Proximal Policy Optimization)**: 강화학습 알고리즘으로 PPO를 사용하여 에이전트가 점진적으로 배치 성능을 향상시키도록 했습니다.
- **부품 사전 배치 및 점진적 복잡성 증가**: 사용자가 미리 일부 부품을 배치한 후, 나머지 부품들을 점차적으로 추가 배치하는 방식으로 학습했습니다. 이 과정에서 PCB의 복잡성은 점점 증가하게 됩니다.

## 강화학습 모델의 구성 요소
- **행동 공간(Action Space)**:
  - 부품의 위치는 격자(grid)로 이산화(discretize)하였고, 회전(90도 회전) 여부도 결정 가능하게 설정했습니다.
- **상태 표현(State Representation)**:
  - PCB의 상태는 그래프 컨볼루션 네트워크(GCN)를 통해 고정된 크기의 특성 벡터로 인코딩하여 표현했습니다. 이를 통해 PCB 배치 정보를 컴팩트하게 전달하였습니다.
- **보상(Reward)**:
  - 부품 배치가 유효한 링 구조를 유지하면서 충돌이나 와이어 교차가 없으면 보상이 주어지며, 잘못된 배치 시에는 부정적인 보상이 주어집니다. 따라서 에이전트는 가능한 많은 부품을 충돌 없이 배치하는 방향으로 학습됩니다.

## 결과 및 성과
본 논문의 방법론은 실제 제조 가능한 PCB 배치를 생성하는 데 성공했습니다. 부품의 크기, 형태, 개수가 변화하더라도 견고한 배치 결과를 보여주었습니다. 이를 통해 제안한 강화학습 접근 방식이 실제 PCB 설계 과정에서 사용될 수 있는 가능성을 제시하였습니다.

## 한계점 및 향후 연구 방향
논문은 PCB 자동 배치의 미래 연구를 위한 몇 가지 과제와 한계를 지적합니다.

- **계산 효율성 향상**: 복잡한 PCB의 라우팅을 더욱 빠르게 계산할 수 있는 방법이 필요합니다.
- **무한 학습(Unbounded Training)**: 지속적인 배치 학습을 통해 보다 복잡하고 현실적인 PCB 배치를 해결하는 것이 필요합니다.
- **보상 시스템 개선**: 강화학습에서의 보상 시스템은 여전히 중요한 문제로, 실제 라우팅 성능을 더 정확히 반영할 수 있는 보상 설계가 요구됩니다.

## 결론
본 연구는 PCB 부품 자동 배치를 위한 강화학습의 적용 가능성을 보여주며, 특히 실제 PCB 제조가 가능한 물리적으로 검증된 배치를 생성하는 데 성공하였습니다. 링 구조와 같은 제약된 도메인에서 시작하여, 추후 더 복잡한 PCB 배치 문제로의 확장 가능성을 열어두고 있습니다.
