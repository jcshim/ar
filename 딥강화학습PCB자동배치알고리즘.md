# [딥 강화학습 기반 PCB 모듈 자동 배치 알고리즘 연구 (Research on PCB Module Automatic Layout Algorithm Based on Deep Reinforcement Learning)](https://unige.org/articles/s1/2024s118.pdf)

---

## 📘 논문 개요

- **저자**: Yongxing Wang (Shenzhen Polytechnic University)  
- **게재 정보**: *Archives of Science*, 2024년 8월, Vol. 74, Suppl. 1, pp. 126–134  
- **핵심 주제**:  
  딥 강화학습을 기반으로 한 PCB 모듈 자동 배치 알고리즘 설계 및 성능 평가

---

## 🎯 연구 목적

- 전통적인 PCB 배치 방식은 복잡한 회로와 고밀도 설계 요구를 만족시키기 어려움.
- **중국의 독자적 EDA 기술 확보**와 **미국의 EDA 도구 수출 제한 대응**이라는 시대적 배경 속에서,
- **딥 강화학습(DRL)**을 활용한 PCB 자동 배치 알고리즘을 제안해 **설계 효율성과 품질 향상**을 목표로 함.

---

## 🧩 주요 기여

1. **두 가지 상태 인코딩 방식** 제안:
   - 📌 **직접 특성 임베딩 방식** (Direct Feature Embedding)
   - 📌 **그래프 구조 기반 인코딩 방식** (Graph Structure Feature Encoding)

2. 각각의 인코딩 방식에 맞춘 **맞춤형 심층 신경망 구조** 설계

3. **경험 기반 배치 방식(EP)**과 **비경험 기반 배치 방식(NEP)**을 비교

4. 기존 **유전 알고리즘 기반 배치(EGA)**와의 성능 비교 수행

---

## 🧠 상태 인코딩 방식

### 1. **직접 특성 임베딩 방식**
- 각 부품의 특성을 **다중 채널 텐서(9개 채널)**로 구성해 상태를 표현 (예: 위치, 핀 수, 부품 종류 등)
- 레이아웃 공간을 156x156 격자로 이산화하여 각 채널에 특징값을 할당
- 단순하고 구현이 쉬우나, **희소한 데이터로 인해 학습 효율이 낮을 수 있음**

### 2. **그래프 기반 인코딩 방식**
- 부품(노드)과 핀 간 연결(엣지)을 그래프로 구성
- **MLP 기반 피처 추출 네트워크**를 사용해 회로 연결 정보를 추출 → 신경망 입력으로 활용
- 연결성 반영이 뛰어나고, **레이아웃 복잡도 이해에 유리**

---

## 🏗️ 신경망 구조 설계

- 두 인코딩 방식에 따라 다른 CNN 구조 적용
- **직접 임베딩 방식**: 156×156×9 입력 → Conv 층 4개 + FC 1개
- **그래프 기반 방식**: 156×156×1 입력 (MLP 출력) → 유사한 CNN 구조
- **Q값 예측 방식**: 상태+행동을 함께 입력받아 Q-value를 출력하는 구조 채택

---

## ⚙️ 실험 설계 및 결과

- 총 665개의 실제 회로 모듈 데이터셋 구성 → 645개 학습용, 20개 테스트용
- **4가지 배치 전략 조합** 실험:
  1. NEP + DS  
  2. NEP + GS  
  3. EP + DS  
  4. EP + GS

- **비교 대상**: 경험 기반 유전 알고리즘 (EGA)

### 📊 주요 결과
| 전략 | 배선 길이 | 배치 면적 | 배치 품질 |
|------|------------|------------|-------------|
| EP + GS | 가장 짧음 | 가장 작음 | 최고 |
| NEP + DS | 가장 길음 | 넓음 | 낮음 |
| EGA | 중간 | 중간 | 양호 |

- **경험 기반 강화학습(EP)이 비경험 기반보다 우수**
- **그래프 기반 인코딩(GS)**이 직접 임베딩(DS)보다 뛰어남
- 제안한 알고리즘이 기존 방식보다 **배선 길이, 전력 소모, 신호 무결성 측면에서 뛰어남**

---

## 🔚 결론 및 시사점

- 딥 강화학습 기반 PCB 자동 배치 알고리즘은 **기존 방법보다 효율성과 품질이 뛰어남**
- **그래프 구조 기반 상태 인코딩**이 회로 연결 정보를 효과적으로 반영해 학습 성능 향상
- 중국 내 독자적인 EDA 기술 발전 가능성 확인

### 📌 향후 과제
- 그래프 신경망(GNN) 기반 모델 도입
- 다양한 실제 설계 시나리오 적용 및 실용화 추진
